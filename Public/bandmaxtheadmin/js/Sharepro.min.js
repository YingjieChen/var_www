window.Sharepro=React.createClass({displayName:"Sharepro",getInitialState:function(){var a=$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Sharepro/getcontent",dataType:"json",async:false});return JSON.parse(a.responseText)},componentDidMount:function(){$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Sharepro/getnamelist",dataType:"json",success:function(a){this.namelist=a;this.forceUpdate()}.bind(this)})},updatetemplate:function(){var a=new XMLHttpRequest();a.open("post","//"+window.config.root+"/index.php/Bandmax/Sharepro/setContent",true);var b=document.getElementById("Sharepro");var c=new FormData(b);a.onreadystatechange=function(){if(a.readyState==4&&a.status==200){c=JSON.parse(a.responseText);alert(c.msg)}};a.send(c);$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Sharepro/getcontent",dataType:"json",success:function(d){this.setState(d)}.bind(this)})},addlist:function(){$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Sharepro/addnamelist",dataType:"json",data:{faceurl:this.refs.faceurl.value,img:this.refs.img.value,urlforimg:this.refs.urlforimg.value,facename:this.refs.facename.value},success:function(a){this.namelist=a;this.forceUpdate()}.bind(this)})},deletenamelist:function(a){$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Sharepro/deletenamelist",dataType:"json",data:{index:a},success:function(b){this.namelist=b;this.forceUpdate()}.bind(this)})},render:function(){return React.createElement("div",null,React.createElement("form",{id:"Sharepro",encType:"multipart/form-data",method:"post"},React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"banner_url"},"Banner url\uFF1A"),React.createElement("input",{ref:"banner_url",type:"text",className:"form-control",placeholder:"Enter url",name:"banner_url",defaultValue:this.state.banner.url}),React.createElement("img",{ref:"bannerpreload",src:"//"+window.config.root+"/uploads/"+this.state.banner.img,width:"100%"}),React.createElement("input",{type:"file",ref:"bannerimg",name:"bannerimg"})),this.state.Products.map(function(b,a){return React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"Head"},"Head\uFF1A"),React.createElement("input",{ref:"Head",type:"text",className:"form-control",placeholder:"Enter head",name:"head[]",defaultValue:b.head}),React.createElement("label",{"for":"description"},"description\uFF1A"),React.createElement("textarea",{ref:"description",type:"text",className:"form-control",placeholder:"Enter description",name:"description[]",defaultValue:b.description}),React.createElement("img",{ref:"img",src:"//"+window.config.root+"/uploads/"+b.img,width:"230"}),React.createElement("input",{type:"file",ref:"img",name:"img"+a}))}.bind(this)),React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.updatetemplate},"\u63D0\u4EA4")),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"face_url"},"face\u5934\u50CF\u5730\u5740"),React.createElement("input",{ref:"faceurl",type:"text",className:"form-control",placeholder:"face url",name:"faceurl",defaultValue:""})),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"face_url"},"face name"),React.createElement("input",{ref:"facename",type:"text",className:"form-control",placeholder:"face url",name:"facename",defaultValue:""})),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"img"},"\u5546\u54C1\u56FE\u50CF\u5730\u5740"),React.createElement("input",{ref:"img",type:"text",className:"form-control",placeholder:"product url",name:"img",defaultValue:""})),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"blank_url"},"\u5546\u54C1\u5730\u5740"),React.createElement("input",{ref:"urlforimg",type:"text",className:"form-control",placeholder:"blank url",name:"urlforimg",defaultValue:""})),React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.addlist},"\u589E\u52A0\u540D\u5355"),React.createElement("table",{className:"table table-bordered"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"faceurl"),React.createElement("th",null,"facename"),React.createElement("th",null,"time"),React.createElement("th",null,"img"),React.createElement("th",null,"urlforimg"),React.createElement("th",null,"action"))),React.createElement("tbody",null,this.namelist?this.namelist.map(function(b,a){return React.createElement("tr",null,React.createElement("td",null,React.createElement("img",{src:b.faceurl,className:"img-rounded"})),React.createElement("td",null,b.facename),React.createElement("td",null,b.time),React.createElement("td",null,React.createElement("img",{src:b.img,className:"img-rounded"})),React.createElement("td",null,b.urlforimg),React.createElement("td",null,React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.deletenamelist.bind(this,a)},"\u5220\u9664\u540D\u5355")))}.bind(this)):"")))}});