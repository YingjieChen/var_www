var Attlist=React.createClass({displayName:"Attlist",heads:{id:"附件id",author:"客户",product_id:"对应产品",country:"国家",imageurl:"图片",body:"评论内容",isshow:"是否显示"},getValue:function(c,e,b){var f="";switch(c){case"imageurl":var d=JSON.parse(e);f=[];if(d){for(var a=0;a<d.length;a++){f=React.createElement("a",{href:"#",className:"thumbnail col-sm-6 col-md-3"},React.createElement("img",{src:"//"+window.config.root+"/uploads/"+d[a]}))}}break;case"product_id":f=React.createElement("a",{href:"https://u7-jewelry.myshopify.com/admin/products/"+this.state.rows[b]["product_id"],target:"_blank"},e);break;default:if(this.config[c]){f=this.config[c][e]}else{f=e}break}return f},pagination:function(b){var a=this.refs.keyword.value;$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Reviewatt/reviewattlist",dataType:"json",data:{page:parseInt(b),keyword:a?a:""},success:function(c){this.setState(c)}.bind(this)})},componentDidMount:function(){var a=this;$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Reviewatt/config",dataType:"json",success:function(b){a.config=b;this.forceUpdate()}.bind(this)});$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Reviewatt/reviewattlist",dataType:"json",success:function(b){this.setState(b)}.bind(this)})},hidden:function(a){$.ajax({url:"//"+window.config.root+"/index.php/Bandmax/Reviewatt/hidden",dataType:"json",data:{id:a},success:function(b){this.pagination(this.state.selected)}.bind(this)})},keywordchange:function(){var a=event.target;this.pagination(1)},render:function(){if(!this.config||!this.state){return false}return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("input",{ref:"keyword",type:"text",className:"form-control",onChange:this.keywordchange})),React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,Object.keys(this.heads).map(function(a){return React.createElement("th",null,this.heads[a])},this),React.createElement("th",null,"\u64CD\u4F5C"))),React.createElement("tbody",null,this.state.rows.map(function(b,a){return React.createElement("tr",null,Object.keys(this.heads).map(function(c){return React.createElement("td",null,this.getValue(c,b[c],a))},this),React.createElement("td",null,React.createElement("button",{type:"button","data-id":b.id,className:b.isshow==1?"btn btn-danger":"btn btn-success",onClick:this.hidden.bind(this,b.id)},b.isshow==1?"取消":"开启","\u663E\u793A")))}.bind(this)))),React.createElement(Page,{onPagination:this.pagination,totalRows:this.state.total,listRows:this.state.pagesize,nowPage:this.state.selected,firstRow:(this.state.selected-1)*this.state.pagesize}))}});